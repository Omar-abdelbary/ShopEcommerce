import{a as L}from"./chunk-3TW364LO.js";import{a as A,b as u,c as N,d as I,e as z,g as G,h as U,k as $,l as B}from"./chunk-CNHM3G3R.js";import{a as j}from"./chunk-YUE5HA66.js";import"./chunk-XAZLOLJU.js";import{c as V}from"./chunk-FP5HR63J.js";import"./chunk-WQQJBAV6.js";import"./chunk-5QGUVPJV.js";import"./chunk-6GFOHB5E.js";import{Bb as y,Db as E,Eb as g,Lb as l,Pb as R,S as T,Sb as w,Wa as d,aa as _,fa as k,gb as S,i as M,mb as c,oa as D,ob as f,qa as b,ra as v,sb as p,tc as q,wa as h,wb as i,xb as o,yb as C}from"./chunk-UOMAL6QC.js";function O(t){t||(D(O),t=_(h));let a=new M(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(T(a))}var F=(t,a)=>({"is-valid":t,"is-invalid":a});function Z(t,a){t&1&&(i(0,"p"),l(1,"Email is required"),o())}function Y(t,a){t&1&&(i(0,"p"),l(1,"Please enter a valid email"),o())}function H(t,a){t&1&&(i(0,"p"),l(1,"Email must be a @gmail.com address"),o())}function J(t,a){if(t&1&&(i(0,"div",9),c(1,Z,2,0,"p")(2,Y,2,0)(3,H,2,0),o()),t&2){let e,n=g(2);d(),p(1,(e=n.forgetPassForm.get("email"))!=null&&e.getError("required")?1:(e=n.forgetPassForm.get("email"))!=null&&e.getError("email")?2:(e=n.forgetPassForm.get("email"))!=null&&e.getError("pattern")?3:-1)}}function K(t,a){if(t&1){let e=y();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3"),l(4,"Reset Your Password"),o(),i(5,"p"),l(6,"Enter your email and we'll send you a link to reset your password."),o()()(),i(7,"form",5),E("ngSubmit",function(){b(e);let r=g();return v(r.forgetSubmit())}),i(8,"div",6)(9,"label",7),l(10,"Email:"),o(),C(11,"input",8),c(12,J,4,1,"div",9),o(),i(13,"button",10),l(14,"Send"),o()()()}if(t&2){let e,n,r=g();d(7),f("formGroup",r.forgetPassForm),d(4),f("ngClass",w(3,F,!((e=r.forgetPassForm.get("email"))!=null&&e.errors)&&(((e=r.forgetPassForm.get("email"))==null?null:e.touched)||((e=r.forgetPassForm.get("email"))==null?null:e.dirty)),((e=r.forgetPassForm.get("email"))==null?null:e.errors)&&(((e=r.forgetPassForm.get("email"))==null?null:e.touched)||((e=r.forgetPassForm.get("email"))==null?null:e.dirty)))),d(),p(12,(n=r.forgetPassForm.get("email"))!=null&&n.errors&&((n=r.forgetPassForm.get("email"))!=null&&n.touched)?12:-1)}}function Q(t,a){t&1&&(i(0,"p"),l(1,"Email is required"),o())}function W(t,a){t&1&&(i(0,"p"),l(1,"Please enter a valid email"),o())}function X(t,a){t&1&&(i(0,"p"),l(1,"Email must be a @gmail.com address"),o())}function ee(t,a){if(t&1&&(i(0,"div",9),c(1,Q,2,0,"p")(2,W,2,0)(3,X,2,0),o()),t&2){let e,n=g(2);d(),p(1,(e=n.resetPasswordForm.get("email"))!=null&&e.getError("required")?1:(e=n.resetPasswordForm.get("email"))!=null&&e.getError("email")?2:(e=n.resetPasswordForm.get("email"))!=null&&e.getError("pattern")?3:-1)}}function te(t,a){t&1&&(i(0,"p"),l(1,"Please enter the verification code."),o())}function ne(t,a){t&1&&(i(0,"p"),l(1,"Code must be exactly 6 digits."),o())}function oe(t,a){if(t&1&&(i(0,"div",9),c(1,te,2,0,"p")(2,ne,2,0),o()),t&2){let e,n=g(2);d(),p(1,(e=n.resetPasswordForm.get("code"))!=null&&e.getError("required")?1:(e=n.resetPasswordForm.get("code"))!=null&&e.getError("pattern")?2:-1)}}function re(t,a){t&1&&(i(0,"p"),l(1,"Please enter the new password."),o())}function ie(t,a){t&1&&(i(0,"p"),l(1,"Password must contain only digits and be at least 6 characters long."),o())}function se(t,a){if(t&1&&(i(0,"div",9),c(1,re,2,0,"p")(2,ie,2,0),o()),t&2){let e,n=g(2);d(),p(1,(e=n.resetPasswordForm.get("newPassword"))!=null&&e.getError("required")?1:(e=n.resetPasswordForm.get("newPassword"))!=null&&e.getError("pattern")?2:-1)}}function le(t,a){if(t&1){let e=y();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3"),l(4,"Verification"),o(),i(5,"p"),l(6,"Verify your code.."),o()()(),i(7,"form",5),E("ngSubmit",function(){b(e);let r=g();return v(r.resetPasswordSubmit())}),i(8,"div",6)(9,"label",7),l(10,"Email:"),o(),C(11,"input",8),c(12,ee,4,1,"div",9),o(),i(13,"div",6)(14,"label",11),l(15,"Verification Code :"),o(),C(16,"input",12),c(17,oe,3,1,"div",9),o(),i(18,"div",6)(19,"label",13),l(20,"newPassword:"),o(),C(21,"input",14),c(22,se,3,1,"div",9),o(),i(23,"button",10),l(24,"Verify Code"),o()()()}if(t&2){let e,n,r,P,m,x,s=g();d(7),f("formGroup",s.resetPasswordForm),d(4),f("ngClass",w(7,F,!((e=s.resetPasswordForm.get("email"))!=null&&e.errors)&&(((e=s.resetPasswordForm.get("email"))==null?null:e.touched)||((e=s.resetPasswordForm.get("email"))==null?null:e.dirty)),((e=s.resetPasswordForm.get("email"))==null?null:e.errors)&&(((e=s.resetPasswordForm.get("email"))==null?null:e.touched)||((e=s.resetPasswordForm.get("email"))==null?null:e.dirty)))),d(),p(12,(n=s.resetPasswordForm.get("email"))!=null&&n.errors&&((n=s.resetPasswordForm.get("email"))!=null&&n.touched)?12:-1),d(4),f("ngClass",w(10,F,!((r=s.resetPasswordForm.get("code"))!=null&&r.errors)&&(((r=s.resetPasswordForm.get("code"))==null?null:r.touched)||((r=s.resetPasswordForm.get("code"))==null?null:r.dirty)),((r=s.resetPasswordForm.get("code"))==null?null:r.errors)&&(((r=s.resetPasswordForm.get("code"))==null?null:r.touched)||((r=s.resetPasswordForm.get("code"))==null?null:r.dirty)))),d(),p(17,(P=s.resetPasswordForm.get("code"))!=null&&P.errors&&((P=s.resetPasswordForm.get("code"))!=null&&P.touched)?17:-1),d(4),f("ngClass",w(13,F,!((m=s.resetPasswordForm.get("newPassword"))!=null&&m.errors)&&(((m=s.resetPasswordForm.get("newPassword"))==null?null:m.touched)||((m=s.resetPasswordForm.get("newPassword"))==null?null:m.dirty)),((m=s.resetPasswordForm.get("newPassword"))==null?null:m.errors)&&(((m=s.resetPasswordForm.get("newPassword"))==null?null:m.touched)||((m=s.resetPasswordForm.get("newPassword"))==null?null:m.dirty)))),d(),p(22,(x=s.resetPasswordForm.get("newPassword"))!=null&&x.errors&&((x=s.resetPasswordForm.get("newPassword"))!=null&&x.touched)?22:-1)}}var Te=(()=>{class t{constructor(){this.#e=_(h),this._Router=_(V),this._AuthService=_(L),this._FormBuilder=_($),this._ToastrService=_(j),this.Step=S(1),this.forgetPassForm=this._FormBuilder.group({email:[null,[u.required,u.email,u.pattern("^[a-zA-Z0-9._%+-]+@gmail\\.com$")]]}),this.resetPasswordForm=this._FormBuilder.group({email:[null,[u.required,u.email,u.pattern("^[a-zA-Z0-9._%+-]+@gmail\\.com$")]],code:[null,[u.required,u.pattern(/^\d{6}$/)]],newPassword:[null,[u.required,u.pattern("^\\d{6,}$")]]})}#e;forgetSubmit(){this.forgetPassForm.valid?this._AuthService.forgetPassword(this.forgetPassForm.value).pipe(O(this.#e)).subscribe({next:e=>{this._ToastrService.success(e.message,"Euphoria Folks Pvt Ltd"),setTimeout(()=>{this.Step.set(2)},1e3)},error:e=>{console.log(e)}}):this.forgetPassForm.markAllAsTouched()}resetPasswordSubmit(){this.resetPasswordForm.valid?this._AuthService.resetPassword(this.resetPasswordForm.value).subscribe({next:e=>{this._ToastrService.success(e.message,"Euphoria Folks Pvt Ltd"),setTimeout(()=>{this._Router.navigate(["/loginUser"])},1e3)},error:e=>{console.log(e)}}):this.resetPasswordForm.markAllAsTouched()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=k({type:t,selectors:[["app-forgetpassword"]],standalone:!0,features:[R],decls:4,vars:1,consts:[[1,"reset-pass"],[1,"container"],[1,"reset-pass-info"],[1,"col-12"],[1,"reset-pass-head"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-info"],["for","email"],["type","email","id","email","formControlName","email","placeholder","enter email here ..",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["type","submit",1,"btn"],["for","code"],["type","text","id","code","formControlName","code","placeholder","enter code here ..",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","newPassword","placeholder","enter newPassword here ..",1,"form-control",3,"ngClass"]],template:function(n,r){n&1&&(i(0,"section",0)(1,"div",1),c(2,K,15,6,"div",2)(3,le,25,16),o()()),n&2&&(d(2),p(2,r.Step()===1?2:r.Step()===2?3:-1))},dependencies:[B,z,A,N,I,G,U,q],styles:[".reset-pass[_ngcontent-%COMP%]{width:100%;height:auto}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]{width:50%;height:auto;margin:20px auto 50px;background-color:#8a33fd1a;border-radius:5px;border:1px solid rgba(138,51,253,.2);box-shadow:0 2px 6px #0000000d}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .reset-pass-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:20px;margin-left:12px;color:#8a33fd;font-size:22px}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .reset-pass-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8a33fd;font-size:14px;margin-left:12px}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{margin-top:25px}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#8a33fd!important;margin-left:12px;font-size:17px;cursor:pointer;margin-bottom:8px}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:95%;margin-left:12px;background-color:#8a33fd0d;border:1px solid rgba(138,51,253,.2);border-radius:6px}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#8a33fd;color:#f0f8ff;margin-left:30px;margin-bottom:50px;margin-top:20px}.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:95%;height:auto;margin-left:12px;font-size:14px;padding-top:5px;padding-bottom:0;margin-top:3px}@media (max-width:767px){.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]{width:100%}}@media (min-width:768px) and (max-width:1023px){.reset-pass[_ngcontent-%COMP%]   .reset-pass-info[_ngcontent-%COMP%]{width:100%!important;height:auto;margin:20px auto 50px;background-color:#8a33fd1a;border-radius:5px;border:1px solid rgba(138,51,253,.2);box-shadow:0 2px 6px #0000000d}}"]})}}return t})();export{Te as ForgetpasswordComponent};
