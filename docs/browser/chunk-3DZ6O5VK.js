import{a as U}from"./chunk-EWMJLODM.js";import{a as D}from"./chunk-YUE5HA66.js";import"./chunk-XAZLOLJU.js";import"./chunk-WQQJBAV6.js";import{a as p}from"./chunk-5QGUVPJV.js";import{a as $}from"./chunk-6GFOHB5E.js";import{Bb as S,Db as y,Eb as g,Lb as o,Mb as d,Pb as A,Vb as f,W as h,Wa as l,Xb as x,aa as c,e as T,fa as _,gb as w,mb as v,qa as b,ra as C,sb as O,ub as P,vb as M,wb as r,xb as n,yc as k,zc as E}from"./chunk-UOMAL6QC.js";var I=(()=>{class e{constructor(){this._HttpCleint=c($)}getAllorderAdmin(){return this._HttpCleint.get(`${p.baseUrl}/api/orders/getAllOrders`)}getDetailsOrderAdmin(t){return this._HttpCleint.get(`${p.baseUrl}/api/orders/getOrderDetailsAdmin/${t}`)}getUserOrder(){return this._HttpCleint.get(`${p.baseUrl}/api/orders/getUserOrders`)}getDetailsOrderUser(t){return this._HttpCleint.get(`${p.baseUrl}/api/orders/getOrderDetails/${t}`)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var u=T(U());var F=(e,m)=>m.order_id;function B(e,m){if(e&1){let t=S();r(0,"tr",6),y("click",function(){let a=b(t).$implicit,s=g(2);return C(s.showOrderDetails(a.order_id))}),r(1,"td"),o(2),n(),r(3,"td"),o(4),n(),r(5,"td")(6,"span"),o(7),n()(),r(8,"td"),o(9),f(10,"currency"),n(),r(11,"td"),o(12),n(),r(13,"td"),o(14),f(15,"date"),n()()}if(e&2){let t=m.$implicit;l(2),d(t.order_id),l(2),d(t.user_id),l(3),d(t.status),l(2),d(x(10,6,t.total_amount,"GBP")),l(3),d(t.payment_status),l(2),d(x(15,9,t.created_at,"medium"))}}function H(e,m){if(e&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),o(5,"Allorders:"),n()()(),r(6,"div",4)(7,"div",5)(8,"table")(9,"thead")(10,"tr")(11,"th"),o(12,"ID"),n(),r(13,"th"),o(14,"User"),n(),r(15,"th"),o(16,"Status"),n(),r(17,"th"),o(18,"Total"),n(),r(19,"th"),o(20,"Payment"),n(),r(21,"th"),o(22,"Created"),n()()(),r(23,"tbody"),P(24,B,16,12,"tr",null,F),n()()()()()()),e&2){let t=g();l(24),M(t.Allorders())}}var R=(()=>{class e{constructor(){this._AllordersService=c(I),this._ToastrService=c(D),this.Allorders=w(null)}ngOnInit(){this._AllordersService.getAllorderAdmin().subscribe({next:t=>{t.message==="Orders retrieved successfully"&&(this.Allorders.set(t.data),this._ToastrService.success(t.message,"Euphoria Folks Pvt Ltd"))},error:t=>{console.log(t)}})}showOrderDetails(t){this._AllordersService.getDetailsOrderAdmin(t).subscribe({next:i=>{let a=i.data;u.default.fire({title:`Order #${a.order_id}`,html:`
            <div style="text-align:left; font-size:14px">
              <p><b>Status:</b> ${a.status}</p>
              <p><b>Total:</b> ${a.total_amount} EGP</p>
              <p><b>Created:</b> ${new Date(a.created_at).toLocaleString()}</p>
              <hr>
              <b>Items:</b>
              <ul style="padding-left:16px; margin-top:6px">
                ${a.items?.map(s=>`
                  <li>${s.product_name} \u2014 ${s.quantity} \xD7 ${s.price} GBP</li>
                `).join("")||"<li>No items</li>"}
              </ul>
            </div>
          `,background:"#1e1e2f",color:"#fff",showConfirmButton:!0,confirmButtonColor:"#007bff",width:"500px",customClass:{popup:"my-swal-popup"}})},error:()=>{u.default.fire({icon:"error",title:"Error!",text:"Failed to fetch order details."})}})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_({type:e,selectors:[["app-allorders"]],standalone:!0,features:[A],decls:1,vars:1,consts:[[1,"all-orders"],[1,"container"],[1,"col-12"],[1,"all-orders-head"],[1,"table-wrapper"],[1,"table-container"],[3,"click"]],template:function(i,a){i&1&&v(0,H,26,0,"section",0),i&2&&O(0,a.Allorders()?0:-1)},dependencies:[E,k],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;overflow:hidden}.all-orders[_ngcontent-%COMP%]{width:100%;height:auto;overflow:hidden;margin-bottom:150px}.all-orders[_ngcontent-%COMP%]   .all-orders-head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center;padding-top:100px;color:#2563eb;font-size:20px;text-decoration:underline;margin-bottom:25px}.table-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:.5rem;overflow:hidden;background-color:#f5f6fa}.table-wrapper[_ngcontent-%COMP%]:after{--shadow-size: 20px;content:"";position:absolute;inset:0;pointer-events:none}.table-container[_ngcontent-%COMP%]{max-height:24rem;overflow-x:scroll!important;height:100%}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:none;padding:1rem 2rem;text-align:left}[_ngcontent-%COMP%]:is(th, td)[_ngcontent-%COMP%]:last-of-type{text-align:right}th[_ngcontent-%COMP%]{background-color:#8a33fd1a;color:#8a33fd;font-weight:700;position:sticky;top:0;border-bottom:1px solid rgba(138,51,253,.2)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .25s ease;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#8a33fd1a;box-shadow:0 2px 6px #0000000d;transform:scale(1.01)}@media (min-width:768px)and (max-width:1023px){.all-orders[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{overflow:hidden!important;max-width:630px!important}}@media (max-width:767px){.all-orders[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{overflow:hidden!important;max-width:485px}}.my-swal-popup[_ngcontent-%COMP%]{background:#191919d9;border:2px solid rgba(255,255,255,.15);border-radius:16px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 0 25px #00000080;color:#fff;transition:all .3s ease-in-out}.my-swal-popup[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 0 35px #ffffff26}.swal2-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;text-transform:capitalize;color:#fc0;margin-bottom:10px}.swal2-html-container[_ngcontent-%COMP%]{font-size:16px;color:#eee;text-align:left;line-height:1.5}.swal2-confirm[_ngcontent-%COMP%]{background-color:#3085d6!important;border-radius:8px!important;padding:8px 20px!important;font-weight:500!important;transition:background .3s ease-in-out!important}.swal2-confirm[_ngcontent-%COMP%]:hover{background-color:#2563eb!important}']})}}return e})();export{R as AllordersComponent};
