import './polyfills.server.mjs';
import{a as f}from"./chunk-RYEZGI2T.mjs";import{a as r}from"./chunk-4ZME3WXD.mjs";import{d}from"./chunk-6YEE64KF.mjs";import{a as g}from"./chunk-NY6I3ZXY.mjs";import{Ic as l,Q as c,V as h,W as a,wa as u}from"./chunk-ZYYXYTHJ.mjs";var s=class extends Error{};s.prototype.name="InvalidTokenError";function w(e){return decodeURIComponent(atob(e).replace(/(.)/g,(o,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function b(e){let o=e.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return w(o)}catch{return atob(o)}}function m(e,o){if(typeof e!="string")throw new s("Invalid token specified: must be a string");o||(o={});let t=o.header===!0?0:1,i=e.split(".")[t];if(typeof i!="string")throw new s(`Invalid token specified: missing part #${t+1}`);let p;try{p=b(i)}catch(n){throw new s(`Invalid token specified: invalid base64 for part #${t+1} (${n.message})`)}try{return JSON.parse(p)}catch(n){throw new s(`Invalid token specified: invalid json for part #${t+1} (${n.message})`)}}var H=(()=>{class e{constructor(t){this._HttpClient=t,this._Plat_Id=a(u),this._Router=a(d),this._ToastrService=a(f),this.SaveToken=null}loginAsAdmin(t){return this._HttpClient.post(`${r.baseUrl}/api/admin/login`,t)}loginAsUser(t){return this._HttpClient.post(`${r.baseUrl}/api/auth/login`,t)}registerAsUser(t){return this._HttpClient.post(`${r.baseUrl}/api/auth/signup`,t)}getUserInfo(){return this._HttpClient.get(`${r.baseUrl}/api/getUserDetails`)}resetPassword(t){return this._HttpClient.post(`${r.baseUrl}/api/auth/resetPassword`,t)}changePassword(t){return this._HttpClient.post(`${r.baseUrl}/api/auth/changePassword`,t)}forgetPassword(t){return this._HttpClient.post(`${r.baseUrl}/api/auth/forgotPassword`,t)}loginWithGoogle(){l(this._Plat_Id)&&(window.location.href=`${r.baseUrl}/api/auth/google`)}Token(){this.SaveToken=m(localStorage.getItem("userToken"))}logout(){l(this._Plat_Id)&&(localStorage.getItem("userToken"),localStorage.removeItem("userToken"),this.SaveToken=null,this._ToastrService.success("Success SignOut","Euphoria Folks Pvt Ltd"),setTimeout(()=>{this._Router.navigate(["/loginUser"])},1e3))}getAdminData(){return this._HttpClient.get(`${r.baseUrl}/api/admin/getDetails`)}getUserData(){return this._HttpClient.get(`${r.baseUrl}/api/getUserDetails`)}static{this.\u0275fac=function(i){return new(i||e)(h(g))}}static{this.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{H as a};
