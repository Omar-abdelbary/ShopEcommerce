import './polyfills.server.mjs';
import{a as q,b as u,c as R,d as A,e as D,g as L,h as I,k,l as G}from"./chunk-4D3WAGGC.mjs";import{a as j}from"./chunk-Q2EHCCCP.mjs";import{a as N}from"./chunk-RYEZGI2T.mjs";import"./chunk-4ZME3WXD.mjs";import{a as T,d as w}from"./chunk-6YEE64KF.mjs";import"./chunk-KA6NYIQQ.mjs";import"./chunk-NY6I3ZXY.mjs";import"./chunk-J4BDXTMW.mjs";import{$ as M,Ab as F,Hb as a,Lb as S,Ob as x,Sa as c,W as C,cb as P,ib as p,kb as _,ob as s,sb as o,tb as i,ub as E,yc as b,zb as O}from"./chunk-ZYYXYTHJ.mjs";import"./chunk-VVCT4QZE.mjs";var v=(t,d)=>({"is-valid":t,"is-invalid":d});function z(t,d){t&1&&(o(0,"p"),a(1,"Name is required."),i())}function B(t,d){t&1&&(o(0,"p"),a(1,"Name must be at least 3 characters long."),i())}function U(t,d){t&1&&(o(0,"p"),a(1,"Name cannot exceed 20 characters."),i())}function V(t,d){if(t&1&&(o(0,"div",7),p(1,z,2,0,"p")(2,B,2,0)(3,U,2,0),i()),t&2){let e,r=F();c(),s(1,(e=r.EditCategoryForm.get("name"))!=null&&e.getError("required")?1:(e=r.EditCategoryForm.get("name"))!=null&&e.getError("minlength")?2:(e=r.EditCategoryForm.get("name"))!=null&&e.getError("maxlength")?3:-1)}}function $(t,d){t&1&&(o(0,"p"),a(1,"Description is required."),i())}function H(t,d){t&1&&(o(0,"p"),a(1,"Description must be at least 10 characters long."),i())}function J(t,d){t&1&&(o(0,"p"),a(1,"Description cannot exceed 200 characters."),i())}function K(t,d){if(t&1&&(o(0,"div",7),p(1,$,2,0,"p")(2,H,2,0)(3,J,2,0),i()),t&2){let e,r=F();c(),s(1,(e=r.EditCategoryForm.get("description"))!=null&&e.getError("required")?1:(e=r.EditCategoryForm.get("description"))!=null&&e.getError("minlength")?2:(e=r.EditCategoryForm.get("description"))!=null&&e.getError("maxlength")?3:-1)}}function Q(t,d){t&1&&(o(0,"p"),a(1,"Image URL is required."),i())}function W(t,d){t&1&&(o(0,"p"),a(1,"Please enter a valid image URL"),i())}function X(t,d){if(t&1&&(o(0,"div",7),p(1,Q,2,0,"p")(2,W,2,0),i()),t&2){let e,r=F();c(),s(1,(e=r.EditCategoryForm.get("image_url"))!=null&&e.getError("required")?1:(e=r.EditCategoryForm.get("image_url"))!=null&&e.getError("pattern")?2:-1)}}var lt=(()=>{class t{constructor(){this._CategoriesService=C(j),this._ToastrService=C(N),this._FormBuilder=C(k),this._Router=C(w),this._ActivatedRoute=C(T),this.CategoryId=P(""),this.EditCategoryForm=this._FormBuilder.group({name:[null,[u.required,u.minLength(10),u.maxLength(15)]],description:[null,[u.required,u.minLength(10),u.maxLength(35)]],image_url:[null,[u.required,u.pattern(/^https?:\/\/.*\.(?:png|jpg|jpeg|gif|webp|svg)$/i)]]})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.CategoryId.set(e.get("id"))}})}EditCategorySubmit(){this.EditCategoryForm.valid?this._CategoriesService.UpdateCategory(this.CategoryId(),this.EditCategoryForm.value).subscribe({next:e=>{e.message==="Category updated successfully"&&(this._ToastrService.success(e.message,"Euphoria Folks Pvt Ltd"),this._Router.navigate(["/categoriesAdmin"]))},error:e=>{console.log(e)}}):this.EditCategoryForm.markAllAsTouched()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=M({type:t,selectors:[["app-editcategoryadmin"]],standalone:!0,features:[S],decls:23,vars:16,consts:[[1,"edit-category"],[1,"container"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-head"],[1,"form-info"],["for","name"],["type","text","id","name","placeholder","enter name here .","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger"],["for","description"],["name","enter description here","placeholder","enter description here","id","description","formControlName","description",1,"form-control",3,"ngClass"],["for","imgurl"],["type","text","id","imgurl","placeholder","enter imgurl here  .","formControlName","image_url",1,"form-control",3,"ngClass"],[1,"btn"]],template:function(r,n){if(r&1&&(o(0,"section",0)(1,"div",1)(2,"form",2),O("ngSubmit",function(){return n.EditCategorySubmit()}),o(3,"div",3)(4,"h3"),a(5,"Edit Category:"),i()(),o(6,"div",4)(7,"label",5),a(8,"name:"),i(),E(9,"input",6),p(10,V,4,1,"div",7),i(),o(11,"div",4)(12,"label",8),a(13,"description:"),i(),E(14,"textarea",9),p(15,K,4,1,"div",7),i(),o(16,"div",4)(17,"label",10),a(18,"imgurl:"),i(),E(19,"input",11),p(20,X,3,1,"div",7),i(),o(21,"button",12),a(22," Save Edit"),i()()()()),r&2){let l,f,m,y,g,h;c(2),_("formGroup",n.EditCategoryForm),c(7),_("ngClass",x(7,v,!((l=n.EditCategoryForm.get("name"))!=null&&l.errors)&&(((l=n.EditCategoryForm.get("name"))==null?null:l.touched)||((l=n.EditCategoryForm.get("name"))==null?null:l.dirty)),((l=n.EditCategoryForm.get("name"))==null?null:l.errors)&&(((l=n.EditCategoryForm.get("name"))==null?null:l.touched)||((l=n.EditCategoryForm.get("name"))==null?null:l.dirty)))),c(),s(10,(f=n.EditCategoryForm.get("name"))!=null&&f.errors&&((f=n.EditCategoryForm.get("name"))!=null&&f.touched)?10:-1),c(4),_("ngClass",x(10,v,!((m=n.EditCategoryForm.get("description"))!=null&&m.errors)&&(((m=n.EditCategoryForm.get("description"))==null?null:m.touched)||((m=n.EditCategoryForm.get("description"))==null?null:m.dirty)),((m=n.EditCategoryForm.get("description"))==null?null:m.errors)&&(((m=n.EditCategoryForm.get("description"))==null?null:m.touched)||((m=n.EditCategoryForm.get("description"))==null?null:m.dirty)))),c(),s(15,(y=n.EditCategoryForm.get("description"))!=null&&y.errors&&((y=n.EditCategoryForm.get("description"))!=null&&y.touched)?15:-1),c(4),_("ngClass",x(13,v,!((g=n.EditCategoryForm.get("image_url"))!=null&&g.errors)&&(((g=n.EditCategoryForm.get("image_url"))==null?null:g.touched)||((g=n.EditCategoryForm.get("image_url"))==null?null:g.dirty)),((g=n.EditCategoryForm.get("image_url"))==null?null:g.errors)&&(((g=n.EditCategoryForm.get("image_url"))==null?null:g.touched)||((g=n.EditCategoryForm.get("image_url"))==null?null:g.dirty)))),c(),s(20,(h=n.EditCategoryForm.get("image_url"))!=null&&h.errors&&((h=n.EditCategoryForm.get("image_url"))!=null&&h.touched)?20:-1)}},dependencies:[G,D,q,R,A,L,I,b],styles:[".edit-category[_ngcontent-%COMP%]{width:100%;height:auto}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:50%;height:auto;margin:120px auto auto;background-color:#8a33fd1a;border:1px solid rgba(138,51,253,.2);box-shadow:0 2px 6px #0000000d;border-radius:20px}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-head[_ngcontent-%COMP%]{width:100%;height:auto}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:20px;color:#8a2be2;font-size:20px;text-align:center;text-decoration:underline}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:8px}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;height:auto;padding-left:15px;color:#8a2be2;font-size:16px;margin-bottom:8px;cursor:pointer}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:90%;margin-left:15px}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px;margin-left:20px;background-color:#8a33fd;color:#f0f8ff}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:90%;height:auto;margin:0 0 0 15px;padding:0}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;padding:3px}@media (max-width:767px){.edit-category[_ngcontent-%COMP%]{margin-bottom:25px}.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;height:auto}}@media (min-width:768px)and (max-width:1023px){.edit-category[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;height:auto}}"]})}}return t})();export{lt as EditcategoryadminComponent};
