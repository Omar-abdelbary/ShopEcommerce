

@if ((AllItems()?.length ?? 0) > 0 ) {


  <section class="cart-info " @fadeIn>
  <div class="container">




    <div class="col-12">
      <div class="cart-head">
        <h3>CartDetails:</h3>
        <!-- <button> payment</button> -->
      </div>
    </div>


    <div class="col-12">
      <div class="cart-price-info">
        <h6>totalCartPrice:{{TotalPrice() |currency :"GBP"}}</h6>
        <button class="btn bg-danger text-white" (click)="removeAllItems()"> <i class="fa-solid fa-trash"></i>RemoveAllItems</button>
      </div>
    </div>


    <div class="cart-details">

      @for (item of AllItems(); track item.product_id) {

      <div class="row" @fadeIn>
        <div class="col-lg-2 col-sm-12 col-md-2">
          <div class="img-item">
            <img [src]="item.main_image" class="img-fluid" alt="product img ">
          </div>
        </div>

        <div class="col-lg-10 col-sm-12 col-md-10">
          <div class="item-describtion">
            <div class="item-about">
              <h5>{{item.product_name}}</h5>
              <h5>{{item.final_price |currency :"GBP"}}</h5>
              <button class="btn bg-danger text-white " (click)="removeItem(item.cart_item_id)"> <i class="fa-solid fa-trash"></i> remove</button>
            </div>


             <div class="item-quantity">
              <span><button class="btn" aria-label="Decrease quantity"  (click)="updateQuantity(item.cart_item_id ,item.product_id , item.quantity - 1 )"><i  class="fa-solid fa-circle-minus"></i></button></span>
              <span>
                <p>{{item.quantity}}</p>
              </span>
              <span><button class="btn" aria-label="Increase quantity"(click)="updateQuantity(item.cart_item_id ,item.product_id , item.quantity +1)" ><i class="fa-solid fa-circle-plus"></i></button></span>


            </div>
          </div>
        </div>




      </div>




      }






    </div>



<button class="btn payment-btn" (click)="payment()">ðŸ’³ Pay Now</button>

  </div>
</section>


}

@else {

  <section class="cart-info" >
    <div class="container">

      <div class="empty-cart">
        <img src="./assets/img/cart.svg" class="img-fluid" alt="empty cart">
        <h6>Your cart is empty and sad : <br>Add something to make it happy!</h6>
        <button class="btn"  routerLink="/allproducts" >Continue Shopping</button>
      </div>
    </div>
  </section>

}



